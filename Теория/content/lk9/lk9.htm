<!-- (C) 2004-06 Nick G Shchetko, Anatoly A Matveev for Military Faculty, BSUIR -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//RU">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1251">
<META HTTP-EQUIV="Content-Language" CONTENT="ru">
<link href="../../css/style.css" rel="stylesheet" type="text/css">
<title>Лекция №9</title>
<base target="_top">
</HEAD><BODY>
<div align="center">
  <p><strong>Тема № 9 &quot; Двоично-десятичные коды  &quot; </strong></p>
</div>
<strong> <p>Вопросы:</p> </strong>
<p>
-	Примеры кодирования десятичных цифр. Двоично-десятичные коды. <br>
-	Сложение чисел с одинаковыми и разными знаками. <br>
-	Одноразрядный двоично-десятичный сумматор. <br>
-	Коды с избытком 3 и 6.<br>

</p>
<strong> <p>Двоично-десятичные коды</p> </strong>
<p>
Пусть число A представлено в системе счисления с основанием r:</p>
<img src="../../images/lk9/1.jpg">
<p>Цифры a<sub>i</sub> будем представлять двоичными разрядами d<sub>1</sub>,d<sub>2</sub>,…,d<sub>m</sub>. Каждому двоичному разряду припишем веса p<sub>1</sub>,p<sub>2</sub>,…,p<sub>m</sub>.<br>
Тогда каждый разряд a<sub>i</sub> числа A будет иметь вид</p>
<img src="../../images/lk9/2.jpg">
<p>а все число</p>
<img src="../../images/lk9/3.jpg">
<p>(4)<br>
где n и m определяют общее число двоичных разрядов.<br>
Если каждый разряд числа имеет вес и при r&ne;2k не выполняется равенство pk=r * pk-1, то системы принято называть взвешенными.
Количество разрядов m должно удовлетворять выражению m &ge; log<sub>2</sub>r. Если десятичное число записано в виде  (4), то будем
говорить, что число представлено в двоично-десятичном коде. Наибольшее распространение из них получили коды, в которых десятичная
цифра представляется двоичной тетрадой (BCD-коды). Существует множество способов кодирования десятичных цифр. Существенным при
этом является простота представления инверсных кодов и простота выделения (формирования) сигнала переноса из цифры в цифру.
Сформулируем набор требований, позволяющих упростить выполнение арифметических операций и операций перевода чисел.<br>
- Четность, состоит в том, что четным десятичным цифрам соответствуют только четные двоичные коды и наоборот. Это обеспечивает
эффективность операций округления, умножения и деления чисел в BCD-кодах.<br>
- Дополняемость, заключается в том, что сумма двоичного кода и инверсного ему кода любой десятичной цифры должна быть равна 9.
Это обеспечивает эффективность операции алгебраического сложения в BCD-кодах.<br>
- Упорядоченность, то есть большей десятичной цифре соответствует большая тетрада и наоборот.<br>
- Единственность представления десятичной цифры двоичной тетрадой.<br>
- Взвешенность, то есть каждому разряду двоичного представления десятичной цифры поставлен в соответствие вес. Это обеспечивает
эффективность всех арифметических  и логических операций в BCD-кодах.<br>
Если каждая десятичная цифра кодируется соответствующим двоичным эквивалентом, то такое кодирование называется кодом прямого
замещения. <br>
BCD-код – код, взаимодополняемый до 15. Это создает некоторые неудобства при суммировании чисел - ввод поправки в некоторых
случаях. В то же время этот код имеет одно существенное достоинство – аддитивность: сумма кодов равна коду суммы.    </p>
<img src="../../images/lk9/4.jpg">
<p>
Основной недостаток этого кода заключается в том, что инверсия какой- либо цифры оказывается цифрой, дополняющей
данную цифру до 15, а не до 9.</p>
<img src="../../images/lk9/5.jpg">
<p>В табл. 4 показаны различные способы кодирования десятичных цифр.</p>
<img src="../../images/lk9/6.jpg">
<p>
Суммирование чисел с одинаковыми знаками в BCD-коде<br>
При выполнении операций над отмеченными кодами возможны следующие особенности:<br>
- наличие разрешенных и запрещенных комбинаций, свидетельствующих о правильности результата или необходимости его коррекции;<br>
- при сложении тетрад возможен потетрадный (16 единиц), а не поразрядный (10 единиц) перенос, что также требует корректировки<br>
результата.<br>
При сложении чисел в BCD-коде возможны три случая:<br>
	1)   ( a + b ) &le; 9 .   В этом случае если действия выполняются по правилам двоичной арифметики, то величина получаемой
суммы не превышает девяти и коррекция результата не требуется.</p>
<img src="../../images/lk9/7.jpg">
<p>
2)   10 &le; ( a + b ) &le; 15. Если результат сложения двух чисел попадает в данный диапазон чисел, то возможны два случая
результирующей тетрады.</p>
<img src="../../images/lk9/8.jpg">
<p>
В этом случае в тетраде накопилось более девяти единиц и должен быть выполнен десятичный перенос. Перенос единицы в старший
разряд выполняется принудительно логической схемой. Условием для формирования единицы переноса является возникновение
запрещенной комбинации (наличие единицы в разрядах с весом 8 и 4 или 8 и 2). Однако тетраду надо освободить от десяти избыточных
единиц. Это тоже делается принудительно добавлением 0110 (шестерки), что приводит к возникновению шестнадцатеричного переноса.<br>
Этот перенос игнорируется. Схема формирования принудительного переноса приведена на рис.11.<br>
3)   ( a + b ) &ge; 16.    Здесь в процессе суммирования возникает шестнадцатеричный перенос, в результате которого тетраду покидают
вместе с десятком и те шесть единиц, которые принадлежат тетраде. Чтобы восстановить верное значение этой тетрады, необходимо к
ней добавить 0110  (шесть).</p>
<img src="../../images/lk9/9.jpg">
<p>
Таким образом, из сказанного выше можно сформулировать следующие правила потетрадного сложения чисел в BCD-кодах. <br>
- Если при потетрадном сложении перенос в соседнюю старшую тетраду не возникает, то результат суммирования не требует коррекции.<br>
- Коррекция результата потетрадного сложения путем добавления поправки 0110 требуется в случае, если возникает:<br>
а) потетрадный перенос в старшую тетраду;<br>
б) запрещенная комбинация.<br>
Устройство, которое  работает по сформулированным выше правилам, называется <b>одноразрядным двоично-десятичным сумматором</b> (рис.12).<p>
<img src="../../images/lk9/10.jpg">
<p>
Суммирование чисел с разными знаками в BCD-коде<br>
Отрицательные BCD-коды должны представляться в прямом, обратном или дополнительном кодах. Особенностью BCD-кодов является то,
что инверсия тетрады означает дополнение до 15, а для соответствующей десятичной цифры до 9. Следовательно, необходимо убрать
разницу. Один из приемов формирования обратного BCD-кода состоит в добавлении во все тетрады отрицательного числа 0110, затем их
инверсии. <br>
При сложении чисел с разными знаками возможны следующие случаи.</p>
<img src="../../images/lk9/11.jpg">
<p>
При образовании инверсии отрицательной тетрады в нее добавляются 15 единиц. Эти 15 единиц находятся и в сумме. Но благодаря
шестнадцатеричному переносу из тетрады уходит 16 единиц ( 15+1 - эта единица восстанавливается добавлением по цепи циклического
переноса ).</p>
<img src="../../images/lk9/12.jpg">
<p>
Здесь, как и в предыдущем примере, в тетраде суммы пятнадцать лишних единиц. Но при переходе от инверсной формы к прямой
лишние единицы уничтожаются сами собой. Это то же самое, что от значащей части суммы вычесть пятнадцать:
1011 - 1111 = 0100. Рассмотрим несколько примеров.</p>
<img src="../../images/lk9/13.jpg">
<p>
Из последней тетрады нет переноса, таким образом, это соответствует заему в нее 16 единиц (вместо необходимых 10).<br>
Следовательно, из нее необходимо удалить лишние шесть единиц. Для этого в тетраду добавляется 10 - дополнение шести
до шестнадцати:</p>
<img src="../../images/lk9/14.jpg">
<p>
Таким образом, в тетраду производится заем, если результат:<br>
- положительный и из тетрады нет переноса;<br>
- отрицательный  и из тетрады есть перенос. <br>
<b>Одноразрядный двоично-десятичный сумматор</b></p>
<img src="../../images/lk9/15.jpg">
<p>
BCD-коды с избытком 3<br>
Иначе говоря, это коды чисел из системы (BCD + 3).  В этом коде каждая десятичная цифра a<sub>i</sub> представляется в виде
двоичного эквивалента суммы a<sub>i</sub>+3. В отличие от BCD-кода код BCD+3 – самодополняющийся, но не имеющий свойства взвешенности.
Применяется наиболее часто в десятичной арифметике, так как при выполнении двоичного суммирования легко выделить десятичный
перенос.<br>
Возможны следующие два случая сложения чисел в BCD-коде +3:<br>
1) a + b  &le; 9 ;     [ ( a + 3 ) + ( b + 3 ) ] &le; 15.<br>
И, следовательно, в тетраде суммы будут лишние 6 единиц. Чтобы тетрада суммы осталась тоже с избытком 3, нужно вычесть 3.<br>
2) a + b &ge; 10;     [ ( a + 3 ) + ( b + 3 ) ] &ge; 16.<br>
Здесь во всех случаях возникает шестнадцатеричный перенос, вместе с которым тетраду суммы покинут и шесть избыточных единиц;
чтобы тетрада суммы осталась с избытком 3, надо добавить 3.<br>
Если складываются числа с разными знаками, то избыток в тетраде суммы будет равен нулю и суммирование, таким образом, сводится
к правилам суммирования в BCD-коде.</p>
<img src="../../images/lk9/16.jpg">
<p>Правило. Если из тетрады был перенос, надо добавить  +0011, если переноса не было, – 0011 (добавить 1100), независимо от
знака слагаемых и знака суммы.<br>
BCD-код с избытком 6 для одного из слагаемых<br>
При сложении чисел с одинаковыми знаками неважно, к какому из слагаемых добавить 0110. Причем это равносильно добавлению
0011 к каждому слагаемому.<br>
При суммировании чисел в коде с избытком 6 коррекция может понадобиться только в случае, когда сумма меньше 16. В остальных
случаях (сумма больше 16) возникает перенос, удаляющий из тетрады 6 лишних единиц, и  коррекции результата не требуется.<br>
Результат должен быть без избытка.</p>
<img src="../../images/lk9/17.jpg">
<p>Суммирование чисел с разными знаками производится в BCD-коде, но в сущности тоже с избытком 6.</p>
</BODY>
</HTML>