<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//RU">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1251">
<META HTTP-EQUIV="Content-Language" CONTENT="ru">
<link href="../../css/style.css" rel="stylesheet" type="text/css">
<title>Лекция №21</title>
<base target="_top">
</HEAD><BODY>
<div align="center">
  <p><strong>Тема № 21 &quot; Синхронизация автоматов &quot; </strong></p>
</div>
<strong> <p>Вопросы:</p> </strong>
<p>
-	Гонки. <br>
-	Риск сбоя. <br>
-	Синхронизация автоматов.   <br>                                                                          
</p>
<strong> <p>Синхронизация автоматов</p> </strong>
<p>
Нарушение функционирования автомата может быть вызвано явлениями, получившими название <i>гонки</i> и <i>риск</i> сбоя.
Гонки возникают из-за неодновременного срабатывания элементов памяти автомата вследствие разброса во времени переключения
триггеров, а так же различия по времени поступления сигналов на их входы. Например, пусть под действием некоторого входного
сигнала X(a<sub>m</sub>a<sub>s</sub>) с кодом 00 автомат должен перейти из состояния am с кодом 101 в состояние a<sub>s</sub> с кодом 110 (рис. 51). Если второй
триггер изменит свое значение - переключится из 0 в 1 ранее, чем третий переключится из 1 в 0, то автомат перейдет в промежуточное
состояние 111. Иначе, если третий триггер сработает ранее второго,  то в промежуточное состояние 100.</p>
<img src="../../images/lk21/1.jpg">
<p>
Таким образом, если на некотором переходе в автомате одновременно изменяют свое состояние несколько элементов памяти, то между
ними возникает ”состязание”. Если из промежуточного состояния автомат в конечном счете, переходит в требуемое состояние a<sub>s</sub>,
то ”состязания” называются некритическими, если в ложное, например 011, то критическими или гонками.<br> 
Существует два основных подхода к устранению гонок: программный и аппаратный. Программный (алгоритмический) подход основан на
соседнем кодировании состояний. При соседнем кодировании состояния автомата из множества A={a<sub>1</sub>,…,a<sub>m</sub>} кодируются таким образом, что
на любом переходе изменяет свое состояние не более чем один элемент памяти. Однако соседнее кодирование возможно выполнить не для
всех автоматов.<br>
Аппаратный подход основан на использовании двух ступеней памяти (рис. 52).  Первая ступень памяти построена на триггерах T<sub>1</sub>’,…,T<sub>r</sub>’,
вторая - на триггерах  T<sub>1</sub>”,…,T<sub>r</sub>”. Информация в триггеры первого уровня T<sub>1</sub>’,…,T<sub>r</sub>’ записывается по тактовому сигналу Ти, а в триггеры
второго уровня T<sub>1</sub>”,…,T<sub>r</sub>” - по сигналу <SPAN class="overline">Ти</span>, следующему непосредственно за Ти.<br>
Если в течение первого полупериода (Ти) между триггерами первой ступени и возникают ”состязания”, то они все равно не изменяют
состояния триггеров второй ступени, поскольку отсутствует синхросигнал <SPAN class="overline">Ти</span>. Затем, с приходом синхроимпульса Ти, изменяют свое
состояние триггеры второй ступени.<br></p>
<img src="../../images/lk21/2.jpg">
<p>
Промежуточные коды, формируемые на их выходах, приводят к изменению (и, возможно, искажению) &tau; <sub>1</sub>,…,&tau; <sub>r</sub>, а следовательно, и D<sub>1</sub>,…,D<sub>r</sub>.<br>
Однако триггеры первой ступени не изменят своего состояния, поскольку отсутствует сигнал Ти. Таким образом, в итоге верный код 
состояния a<sub>s</sub> с выходов памяти первой ступени переписывается в триггеры второго уровня, что соответствует переходу автомата в 
состояние a<sub>s</sub>.</p><br>
<img src="../../images/lk21/3.jpg"><br>
Если комбинационная схема автомата построена из синхронизируемых элементов, то гонки также устраняются путем разделения синхронизации
памяти и комбинационной схемы (рис. 53). В этом случае двойная память не требуется.<br>
Риск сбоя. Наличие некритических ”состязаний” не нарушает правил перехода в автомате, но создает возможность возникновения риска сбоя.
Риск сбоя заключается в том, что при переходе в некоторое промежуточное состояние (реально существующее в алгоритме) может быть выработан
кратковременный ложный выходной сигнал. Например, в автомате Мура при переходе из состояния 101 в состояние 110 появляется кратковременный
сигнал y<sub>k</sub> в промежуточном состоянии 100 (рис. 54).<br>

Хотя длительность ложного сигнала y<sub>k</sub> достаточно мала, его возникновение может привести к непредсказуемым последствиям в работе устройства,
которым управляет автомат. Для устранения риска сбоя можно воспользоваться следующими методами:<br>
- выходы автомата, на которых может возникнуть риск сбоя, соединяются через конденсатор небольшой емкости с нулевым выходом источника
питания (рис. 55.);<br>
- буферизация выходных сигналов;<br>
- синхронизация выходных сигналов автомата. При этом комбинационная схема имеет дополнительный вход синхронизации C<sub>s</sub>, поступающий с
задержкой относительно основного синхросигнала. Сигналы на выходах автомата появляются только при наличии этого сигнала. Сигнал можно
сформировать, как показано на рис. 56. </p>
<img src="../../images/lk21/4.jpg">
<p>Схема может быть построена, например, из  инверторов (их должно быть четное число). Данный подход позволяет устранить риск сбоя только для
автомата Мура, так как синхронизация позволяет формировать выходные сигналы после окончания переходных процессов.</p>

</BODY>
</HTML>